### H5移动端笔记
 #### 最近手上的项目都是移动端相关的，记录下过程中遇到的小问题
 ##### 布局问题
   移动端中目前最受欢迎而且最好用的布局莫过于`flex`布局；因为历史原因，需要考虑的是低版本的Android（4.4以下）和IOS（7.1以下）是否支持，这里需要一些兼容低版本的写法，下面列出常用的几种，可以在项目中定义在全局的样式文件里
   ``` css
   /** 定义flex盒子 **/
   .flex { 
        display: -webkit-box; 
        display: -webkit-flex; 
        display: -ms-flexbox; 
        display: -moz-box; 
        display: -moz-flex; 
        display: flex; 
    }
    /** flex盒子纵向排列 **/
    .flex-column { 
        -webkit-box-orient: vertical; 
        -webkit-flex-direction: column; 
        -moz-box-orient: vertical; 
        -moz-flex-direction: column; 
        -ms-flex-direction: column; 
        flex-direction: column; 
    }
    /** 子元素垂直居中 **/
    .flex-align-center  { 
        -webkit-box-align: center; 
        -webkit-align-items: center; 
        -moz-box-align: center; 
        -moz-align-items: center; 
        -ms-flex-align: center; 
        align-items: center; 
    }
    /** 子元素水平居中 **/
    .flex-pack-center   { 
        -webkit-box-pack: center; 
        -webkit-justify-content: center; 
        -moz-box-pack: center; 
        -moz-justify-content: center; 
        -ms-flex-pack: center; 
        justify-content: center; 
    }
    /** 子元素两边分布 **/
    .flex-pack-justify  { 
        -webkit-box-pack: justify; 
        -webkit-justify-content: 
        space-between; 
        -moz-box-pack: justify; 
        -moz-justify-content: space-between; 
        -ms-flex-pack: justify; 
        justify-content: space-between; 
    }
   ```
 ##### IOS端滚动不流畅，在body里添加这句CSS就可使IOS滚动像德芙一样丝滑  
``` css
-webkit-overflow-scrolling: touch; 
```
 ##### IOS滚动穿透问题
 * 在项目中有些页面需要弹框或者抽屉，这里就需要用到遮罩层，当添加遮罩层后发现scroll-box里的内容还可以滚动，发生了滚动穿透问题；因为遮罩层不需要滚动，所以解决办法很简单，在遮罩层添加touchmove事件，阻止默认行为就可以了
     ``` javascript
     vue: @touchmove.stop.prevent
     ```
 * 假如是两个滚动容器的滚动穿透，上面的方法会导致弹窗的滚动行为也被阻止掉，所以这里需要采取其他办法
   * 在弹窗打开的时候给底层的scroll-box设置`position: fixed`定位，然后top值设为滚动条的高度`scrollTop`；弹窗关闭的时候清除fixed定位和top值，将滚动条高度设回为top值；这样用户基本上是无感知的，可以参考[这里](https://juejin.im/post/5c4974f0518825260c5d1851)
